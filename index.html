<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>neo4j-client by cleishm</title>
    <meta name="description" content="neo4j-client is a command line shell (CLI) for the Neo4j Graph Database."/>

    <meta name="viewport" content="width=device-width">

    <link rel="canonical" href="https://neo4j-client.net">
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">

    <link rel="apple-touch-icon-precomposed" sizes="57x57" href="images/apple-touch-icon-57x57.png" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="images/apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="images/apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="images/apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon-precomposed" sizes="60x60" href="images/apple-touch-icon-60x60.png" />
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href="images/apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon-precomposed" sizes="76x76" href="images/apple-touch-icon-76x76.png" />
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="images/apple-touch-icon-152x152.png" />
    <link rel="icon" type="image/png" href="images/favicon-196x196.png" sizes="196x196" />
    <link rel="icon" type="image/png" href="images/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/png" href="images/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="images/favicon-16x16.png" sizes="16x16" />
    <link rel="icon" type="image/png" href="images/favicon-128.png" sizes="128x128" />
    <meta name="application-name" content="&nbsp;"/>
    <meta name="msapplication-TileColor" content="#FFFFFF" />
    <meta name="msapplication-TileImage" content="images/mstile-144x144.png" />
    <meta name="msapplication-square70x70logo" content="images/mstile-70x70.png" />
    <meta name="msapplication-square150x150logo" content="images/mstile-150x150.png" />
    <meta name="msapplication-wide310x150logo" content="images/mstile-310x150.png" />
    <meta name="msapplication-square310x310logo" content="images/mstile-310x310.png" />

    <style>
.wrapper {
    width: 960px;
}
header {
    width: 220px;
}
header ul {
    width: 220px;
}
header li {
    width: 220px;
    border-right: none;
}
footer {
    width: 220px;
}
section {
    width: 660px;
}
    </style>
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>neo4j-client</h1>
        <p>Neo4j Client<br />(CLI and library)</p>

        <p class="view"><a href="https://github.com/cleishm/libneo4j-client">View the Project on GitHub <small>cleishm/libneo4j-client</small></a></p>

        <ul>
            <li><a href="https://github.com/cleishm/libneo4j-client/releases">Release <strong>Download</strong></a></li>
        </ul>
      </header>
      <section>

<a href="https://github.com/cleishm/libneo4j-client"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"></a>

<h2>
<a id="about" class="anchor" href="#about" aria-hidden="true"><span class="octicon octicon-link"></span></a>About</h2>

<p>neo4j-client is a command shell (CLI) for Neo4j. It supports secure connections
to Neo4j server, sending of statements (including multiline statements),
persistent command history, and rendering of results to tables or CSV.</p>

<p>neo4j-client utilizes the <a href="http://boltprotocol.org">Bolt Network Protocol</a>, and will work with any server that supports Bolt.</p>

<p>For more details, see the <a href="https://github.com/cleishm/libneo4j-client/wiki/FAQ">FAQ</a>.</p>

<h2>
<a id="requirements" class="anchor" href="#requirements" aria-hidden="true"><span class="octicon octicon-link"></span></a>Requirements</h2>

<p>neo4j-client is known to work on GNU/Linux, Mac OS X and FreeBSD. It
requires neo4j 3.0.0 or later.</p>

<h2>
<a id="getting-started" class="anchor" href="#getting-started" aria-hidden="true"><span class="octicon octicon-link"></span></a>Getting Started</h2>

<p>If you're using Mac OS X, neo4j-client can be installed using homebrew:</p>

<div class="highlight highlight-text-shell-session"><pre>
$ <span class="pl-s1">brew install cleishm/neo4j/neo4j-client</span>
</pre></div>

<p>If you're using Ubuntu, neo4j-client can be installed using APT:</p>

<div class="highlight highlight-text-shell-session"><pre>
$ <span class="pl-s1">sudo add-apt-repository ppa:cleishm/neo4j</span>
$ <span class="pl-s1">sudo apt-get update</span>
$ <span class="pl-s1">sudo apt-get install neo4j-client libneo4j-client-dev</span>
</pre></div>

<p>For other platforms, please see <a href="#building">Building</a> below.</p>

<h2>
<a id="neo4j-client-usage" class="anchor" href="#neo4j-client-usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>neo4j-client Usage</h2>

<p id="neo4j-client-example-interactive">Example interactive usage:</p>

<div class="highlight highlight-text-shell-session"><pre>$ <span class="pl-mb">neo4j-client -u neo4j localhost</span>
<span class="pl-mo">The authenticity of host 'localhost:7687' could not be established.</span>
<span class="pl-mo">TLS certificate fingerprint is ded0fd2e893cd0b579f47f7798e10cb68dfa2fd3bc9b3c973157da81bab451d74f9452ba99a9c5f66dadb8a360959e5ebd8abb2d7c81230841e60531a96d268.</span>
<span class="pl-mo">Would you like to trust this host (NO/yes/once)? </span><span class="pl-mb">yes</span>
<span class="pl-mo">Password: </span><span class="pl-mb">*****</span>
<span class="pl-mo">neo4j&gt; </span><span class="pl-mb">:help</span>
<span class="pl-k">:quit                  Exit the shell</span>
<span class="pl-k">:connect '&lt;url&gt;'       Connect to the specified URL</span>
<span class="pl-k">:connect host [port]   Connect to the specified host (and optional port)</span>
<span class="pl-k">:disconnect            Disconnect the client from the server</span>
<span class="pl-k">:export name=val ...   Export parameters for queries</span>
<span class="pl-k">:uexport name ...      Unexport parameters for queries</span>
<span class="pl-k">:reset                 Reset the session with the server</span>
<span class="pl-k">:set option=value ...  Set shell options</span>
<span class="pl-k">:status                Show the client connection status</span>
<span class="pl-k">:help                  Show usage information</span>
<span class="pl-k">:output (table|csv)    Set the output format</span>
<span class="pl-k">:width (&lt;n&gt;|auto)      Set the number of columns in the table output</span>
<span class="pl-mo">neo4j&gt;</span>
<span class="pl-mo">neo4j&gt; </span><span class="pl-mb">:status</span>
<span class="pl-k">Connected to 'neo4j://neo4j@localhost:7687'</span>
<span class="pl-mo">neo4j&gt;</span>
<span class="pl-mo">neo4j&gt; </span><span class="pl-mb">MATCH (n:Person) RETURN n LIMIT 3;</span>
<span class="pl-k">+----------------------------------------------------------------------------+</span>
<span class="pl-k">| n                                                                          |</span>
<span class="pl-k">+----------------------------------------------------------------------------+</span>
<span class="pl-k">| (:Person{born:1964,name:"Keanu Reeves"})                                   |</span>
<span class="pl-k">| (:Person{born:1967,name:"Carrie-Anne Moss"})                               |</span>
<span class="pl-k">| (:Person{born:1961,name:"Laurence Fishburne"})                             |</span>
<span class="pl-k">+----------------------------------------------------------------------------+</span>
<span class="pl-mo">neo4j&gt;</span>
<span class="pl-mo">neo4j&gt; </span><span class="pl-mb">:set</span>
<span class="pl-k"> insecure=no</span>
<span class="pl-k"> output=table</span>
<span class="pl-k"> username="neo4j"</span>
<span class="pl-k"> width=auto</span>
<span class="pl-mo">neo4j&gt;</span>
<span class="pl-mo">neo4j&gt; </span><span class="pl-mb">:set output=csv</span>
<span class="pl-mo">neo4j&gt;</span>
<span class="pl-mo">neo4j&gt; </span><span class="pl-mb">MATCH (n:Person) RETURN n.name AS name, n.born AS born LIMIT 3;</span>
<span class="pl-k">"name","born"</span>
<span class="pl-k">"Keanu Reeves",1964</span>
<span class="pl-k">"Carrie-Anne Moss",1967</span>
<span class="pl-k">"Laurence Fishburne",1961</span>
<span class="pl-mo">neo4j&gt;</span>
<span class="pl-mo">neo4j&gt; </span><span class="pl-mb">:quit</span>
$</pre></div>

<p id="neo4j-client-example-non-interactive">Example non-interactive usage:</p>

<div class="highlight highlight-text-shell-session"><pre>$ <span class="pl-mb">echo "</span><span class="pl-mo">MATCH (n:Person) RETURN n.name AS name, n.born AS born LIMIT 3</span><span class="pl-mb">" | \</span>
<span class="pl-mb">     neo4j-client -u neo4j -P localhost &gt; result.csv</span>
<span class="pl-mo">Password: </span><span class="pl-mb">*****</span>
$
$ <span class="pl-mb">cat result.csv</span>
<span class="pl-k">"name","born"</span>
<span class="pl-k">"Keanu Reeves",1964</span>
<span class="pl-k">"Carrie-Anne Moss",1967</span>
<span class="pl-k">"Laurence Fishburne",1961</span>
$</pre></div>

<p id="neo4j-client-example-evaluating-source">Evaluating source files:</p>

<div class="highlight highlight-text-shell-session"><pre>$ <span class="pl-mb">cat query.cyp</span>
<span class="pl-k">:set echo</span>
<span class="pl-k">:export name='Emil'</span>

<span class="pl-k">// Create a person node if it doesn't exist</span>
<span class="pl-k">begin;</span>
<span class="pl-k">MERGE (:Person {name: {name}});</span>
<span class="pl-k">commit;</span>

<span class="pl-k">// return the total number of people</span>
<span class="pl-k">MATCH (n:Person)</span>
<span class="pl-k">RETURN count(n);</span>
$
$ <span class="pl-mb">neo4j-client -u neo4j -p pass -o result.out -i query.cyp</span>
$ <span class="pl-mb">cat result.out</span>
<span class="pl-k">+:export name='Emil'</span>
<span class="pl-k">+begin;</span>
<span class="pl-k">+MERGE (:Person {name: {name}});</span>
<span class="pl-k">Nodes created: 1</span>
<span class="pl-k">Properties set: 1</span>
<span class="pl-k">Labels added: 1</span>
<span class="pl-k">+commit;</span>
<span class="pl-k">+MATCH (n:Person)</span>
<span class="pl-k"> RETURN count(n);</span>
<span class="pl-k">"count(n)"</span>
<span class="pl-k">137</span>
$</pre></div>

<h2>
<a id="libneo4j-client" class="anchor" href="#libneo4j-client" aria-hidden="true"><span class="octicon octicon-link"></span></a>libneo4j-client</h2>

<p>libneo4j-client is a client library for Neo4j, written in C, and intended as a
foundation on which basic tools and drivers for various languages may be built.
libneo4j-client takes care of all the detail of establishing a session with a
Neo4j server, sending statements for evaluation, and retrieving results.</p>

<p>libneo4j-client provides a single C header file, <code>neo4j-client.h</code>, for
inclusion in source code using the libneo4j-client API. The API is described in
the <a href="#api_documentation">API Documentation</a>.</p>

<p>libneo4j-client can be included in your project by linking the library at
compile time, typically using the linking flags <code>-lneo4j-client -lssl -lcrypto</code>.
Alternatively, libneo4j-client ships with a <a href="https://wiki.freedesktop.org/www/Software/pkg-config/">pkg-config</a> description file,
enabling you to obtain the required flags using
<code>pkg-config --libs libneo4j-client</code>.</p>

<h2>
<a id="api-documentation" class="anchor" href="#api-documentation" aria-hidden="true"><span class="octicon octicon-link"></span></a>API Documentation</h2>

<p>API documentation for the latest release is available at
<a href="https://cleishm.github.io/libneo4j-client/doc/latest/neo4j-client_8h.html">https://cleishm.github.io/libneo4j-client/doc/latest/neo4j-client_8h.html</a>.</p>

<h2>
<a id="example" class="anchor" href="#example" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h2>

<div class="highlight highlight-source-c"><pre>#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>neo4j-client.h<span class="pl-pds">&gt;</span></span>
#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>errno.h<span class="pl-pds">&gt;</span></span>
#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>stdio.h<span class="pl-pds">&gt;</span></span>

<span class="pl-k">int</span> <span class="pl-en">main</span>(<span class="pl-k">int</span> argc, <span class="pl-k">char</span> *argv[])
{
    <span class="pl-c1">neo4j_client_init</span>();

    <span class="pl-c">/* use NEO4J_INSECURE when connecting to disable TLS */</span>
    <span class="pl-c1">neo4j_connection_t</span> *connection =
            <span class="pl-c1">neo4j_connect</span>(<span class="pl-s"><span class="pl-pds">"</span>neo4j://user:pass@localhost:7687<span class="pl-pds">"</span></span>, <span class="pl-c1">NULL</span>, NEO4J_INSECURE);
    <span class="pl-k">if</span> (connection == <span class="pl-c1">NULL</span>)
    {
        <span class="pl-c1">neo4j_perror</span>(stderr, errno, <span class="pl-s"><span class="pl-pds">"</span>Connection failed<span class="pl-pds">"</span></span>);
        <span class="pl-k">return</span> EXIT_FAILURE;
    }

    <span class="pl-c1">neo4j_result_stream_t</span> *results =
            <span class="pl-c1">neo4j_run</span>(connection, <span class="pl-s"><span class="pl-pds">"</span>RETURN 'hello world'<span class="pl-pds">"</span></span>, <span class="pl-c1">neo4j_null</span>);
    <span class="pl-k">if</span> (results == <span class="pl-c1">NULL</span>)
    {
        <span class="pl-c1">neo4j_perror</span>(stderr, errno, <span class="pl-s"><span class="pl-pds">"</span>Failed to run statement<span class="pl-pds">"</span></span>);
        <span class="pl-k">return</span> EXIT_FAILURE;
    }

    <span class="pl-c1">neo4j_result_t</span> *result = <span class="pl-c1">neo4j_fetch_next</span>(results);
    <span class="pl-k">if</span> (results == <span class="pl-c1">NULL</span>)
    {
        <span class="pl-c1">neo4j_perror</span>(stderr, errno, <span class="pl-s"><span class="pl-pds">"</span>Failed to fetch result<span class="pl-pds">"</span></span>);
        <span class="pl-k">return</span> EXIT_FAILURE;
    }

    <span class="pl-c1">neo4j_value_t</span> value = <span class="pl-c1">neo4j_result_field</span>(result, <span class="pl-c1">0</span>);
    <span class="pl-k">char</span> buf[<span class="pl-c1">128</span>];
    <span class="pl-c1">printf</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-c1">%s</span><span class="pl-cce">\n</span><span class="pl-pds">"</span></span>, <span class="pl-c1">neo4j_tostring</span>(value, buf, <span class="pl-k">sizeof</span>(buf)));

    <span class="pl-c1">neo4j_close_results</span>(results);
    <span class="pl-c1">neo4j_close</span>(connection);
    <span class="pl-c1">neo4j_client_cleanup</span>();
    <span class="pl-k">return</span> EXIT_SUCCESS;
}</pre></div>

<h2>
<a id="building" class="anchor" href="#building" aria-hidden="true"><span class="octicon octicon-link"></span></a>Building</h2>

<p>To build software using libneo4j-client, consider installing libneo4j-client
using the package management system for your operating system (currently only
Mac OS X). See <a href="#getting-started">Getting Started</a> for detail.

<p>NOTE: Recent versions of Mac OS X ship without the OpenSSL header files, and
autoconf doesn't pick this up (yet). Please use the homebrew package to install
on Mac OS X.</p>

<p>If libneo4j-client is not available via your package management system,
please <a href="https://github.com/cleishm/libneo4j-client/releases">download
the latest release</a> and then:</p>

<div class="highlight highlight-text-shell-session"><pre>$ <span class="pl-s1">./configure</span>
$ <span class="pl-s1">make clean check</span>
$ <span class="pl-s1">sudo make install</span>
</pre></div>

<p>libneo4j-client requires OpenSSL, although this can be disabled by invoking
configure with <code>--without-tls</code>.</p>

<p>neo4j-client also requires some dependencies to build, including
<a href="http://thrysoee.dk/editline/">libedit</a> and
<a href="https://git.io/libcypher-parser">libcypher-parser</a>. If these are not
available, the library can be built without neo4j-client, by invoking configure
with <code>--disable-tools</code>.</p>

<h2>
<a id="support" class="anchor" href="#support" aria-hidden="true"><span class="octicon octicon-link"></span></a>Support</h2>

<p>Having trouble with libneo4j-client or neo4j-client? Please raise any issues with usage on
<a href="http://stackoverflow.com/questions/tagged/neo4j-client">StackOverflow</a>. If
you've found a bug in the code for libneo4j-client, please raise an issue on
<a href="https://github.com/cleishm/libneo4j-client">GitHub</a> and include details of how
to reproduce the bug.</p>

<h2>
<a id="contributing" class="anchor" href="#contributing" aria-hidden="true"><span class="octicon octicon-link"></span></a>Contributing</h2>

<p>Contributions to libneo4j-client are welcome and encouraged! Please see the
<a href="https://github.com/cleishm/libneo4j-client">GitHub repository</a> for more detail.</p>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>License</h2>

<p>libneo4j-client is licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>.</p>

<p>Unless required by applicable law or agreed to in writing, software distributed
under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
CONDITIONS OF ANY KIND, either express or implied.  See the License for the
specific language governing permissions and limitations under the License.</p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/cleishm">cleishm</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-4129248-4");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
